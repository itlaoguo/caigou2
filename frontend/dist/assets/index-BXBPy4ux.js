import{d as de,u as me,C as pe,j as R,r as s,l as T,g as fe,X as ve,h as i,c as O,o as r,b as C,a,x as n,w as t,v as S,t as h,e as p,E as f,M as U,f as ge}from"./index-OLkvd68Y.js";import{P as _e,a as ye}from"./public-CddGFI_6.js";import{T as he,a as be,b as ke,S as Ce}from"./salaryAdd-CKitJH30.js";import Se from"./ExamineAdd-Cn8Z4HXI.js";import"./constants-BmCj8gDq.js";const we={key:0,class:"list-common-table"},xe={class:"table-container"},De={key:1,class:"list-common-add"},Pe={name:"AdmindeptSalary"},Ve=de({...Pe,setup(Te){const G=me();pe();const B=[{colKey:"row-select",type:"multiple",width:50,checkProps:{allowUncheck:!0}},{align:"center",colKey:"index",title:"序号",width:80,fixed:"left"},{align:"center",title:"公司主体",colKey:"a",fixed:"left"},{align:"center",title:"状态",colKey:"b"},{align:"center",title:"支付状态",colKey:"c"},{align:"center",title:"工资条推送",colKey:"cc"},{align:"center",title:"月份",colKey:"d"},{align:"center",title:"工资发放单",colKey:"e"},{align:"center",title:"创建人",colKey:"f"},{align:"center",title:"创建时间",colKey:"g"},{align:"center",title:"付款人",colKey:"h"},{align:"center",title:"付款时间",colKey:"i"},{align:"center",fixed:"right",width:130,colKey:"op",title:R("components.commonTable.operation")}],w=s(!0),A=s(null),x=()=>{w.value=!w.value},M=(o,e)=>{k.value=o};s(null);const u=s({...{name:"",no:"",type:""}}),Y="id",Z="bottom";s(!0);const L=async o=>{c.value=await ye(o,c)},$=(o,e)=>{c.value=[],c.value=[{a:"惠州市翼飞智能科技有限公司",b:0,c:0,cc:0,d:"2024-11",e:"GZFFD202411",f:"马艳红",g:"2025-12-10 12:00:00",h:"刘小艳",i:"2025-12-15 18:00:00"}],g.value.total=c.value.length},g=s({defaultPageSize:20,total:100,defaultCurrent:1,pageSizeOptions:_e}),b=s(!1),c=s(),z=()=>{P.value=!0,A.value=999,x()};T(()=>({placement:"top-right",fields:["a","b","c","d","e","f","g","h","i","cc"],dialogProps:{preventScrollThrough:!0},buttonProps:!1}));const D=s(!1),X=async()=>{D.value=!0;try{c.value=[{id:1,a:"惠州市翼飞智能科技有限公司",b:0,c:0,cc:0,d:"2024-02",e:"GZFFD202411",f:"马艳红",g:"2025-03-10 12:00:00",h:"",i:""},{id:2,a:"惠州市翼飞智能科技有限公司",b:1,c:0,cc:0,d:"2024-01",e:"GZFFD202411",f:"马艳红",g:"2025-02-10 12:00:00",h:"",i:""},{id:3,a:"惠州市翼飞智能科技有限公司",b:2,c:1,cc:1,d:"2024-12",e:"GZFFD202411",f:"马艳红",g:"2025-01-10 12:00:00",h:"刘小艳",i:"2025-01-15 18:00:00"},{id:4,a:"惠州市翼飞智能科技有限公司",b:2,c:1,cc:1,d:"2024-11",e:"GZFFD202411",f:"马艳红",g:"2025-12-10 12:00:00",h:"刘小艳",i:"2025-12-15 18:00:00"}],g.value={...g.value,total:c.value.length}}catch{}finally{D.value=!1}},j=()=>{},F=s(null),k=s([]),H=()=>{if(k.value.length==0)return U.warning("请先选择需要审批的工单");k.value,F.value.onSwticher()},_=s(-1),q=T(()=>{if(_.value>-1){const{name:o}=c.value[_.value];return`删除后，${o}的所有合同信息将被清空，且无法恢复`}return""}),K=()=>{_.value=-1},J=()=>{c.value.splice(_.value,1),g.value.total=c.value.length,b.value=!1,U.success("删除成功"),K()},Q=()=>{K()};fe(()=>{X()});const W=o=>{_.value=o.row.rowIndex,b.value=!0},ee=o=>{},P=s(!0),te=()=>{P.value=!1,x()},E=o=>{u.value},ae=(o,e)=>{},le=(o,e)=>{};return T(()=>({offsetTop:G.isUseTabsRouter?48:0,container:`.${ve}-layout`})),(o,e)=>{const ne=i("t-input"),d=i("t-col"),V=i("t-select"),oe=i("t-date-picker"),v=i("t-button"),I=i("t-row"),y=i("t-icon"),se=i("t-form"),m=i("t-tag"),N=i("t-tooltip"),ie=i("t-space"),ce=i("t-table"),ue=i("t-dialog");return w.value?(r(),O("div",we,[e[17]||(e[17]=C("div",{class:"NavigationTitle"},[C("p"),n(" 薪资管理 ")],-1)),a(se,{ref:"form",data:u.value,"label-width":80,colon:"",onReset:ee,onSubmit:E},{default:t(()=>[a(I,null,{default:t(()=>[a(d,{span:10},{default:t(()=>[a(I,{gutter:[24,24]},{default:t(()=>[a(d,{span:1},{default:t(()=>[a(ne,{modelValue:u.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value.name=l),class:"form-item-content",type:"search",placeholder:"创建人",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(d,{span:1},{default:t(()=>[a(V,{modelValue:u.value.status,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value.status=l),class:"form-item-content",options:S(he),onChange:E,placeholder:"公司主体",clearable:""},null,8,["modelValue","options"])]),_:1}),a(d,{span:1},{default:t(()=>[a(oe,{mode:"month",clearable:"","allow-input":"",placeholder:"工资月份",style:{width:"100%"}})]),_:1}),a(d,{span:1},{default:t(()=>[a(V,{modelValue:u.value.type,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value.type=l),style:{display:"inline-block"},class:"form-item-content",options:S(be),placeholder:"审核状态",clearable:""},null,8,["modelValue","options"])]),_:1}),a(d,{span:1},{default:t(()=>[a(V,{modelValue:u.value.type,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value.type=l),style:{display:"inline-block"},class:"form-item-content",options:S(ke),placeholder:"支付状态",clearable:""},null,8,["modelValue","options"])]),_:1}),a(d,{span:2},{default:t(()=>[a(v,{type:"reset",variant:"base",theme:"default"},{default:t(()=>[n(h(S(R)("components.commonTable.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(d,{span:12,class:"operation-container"},{default:t(()=>[a(v,{theme:"success",onClick:z},{icon:t(()=>[a(y,{name:"add"})]),default:t(()=>[e[6]||(e[6]=n(" 添加工资条 "))]),_:1}),a(v,{theme:"primary",onClick:H},{icon:t(()=>[a(y,{name:"institution-checked"})]),default:t(()=>[e[7]||(e[7]=n(" 提交审核 "))]),_:1}),a(v,{theme:"success",onClick:j},{icon:t(()=>[a(y,{name:"send"})]),default:t(()=>[e[8]||(e[8]=n(" 推送工资条 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),C("div",xe,[a(ce,{data:c.value,columns:B,"row-key":Y,"vertical-align":Z,pagination:g.value,loading:D.value,maxHeight:"840",onPageChange:ae,onChange:le,onSortChange:L,onFilterChange:$,onSelectChange:M,"selected-row-keys":k.value},{index:t(({rowIndex:l})=>[C("span",null,h(l+1),1)]),bb:t(({row:l})=>[n(" NO."+h(l.bb),1)]),b:t(({row:l})=>[l.b==0?(r(),p(m,{key:0,variant:"light"},{default:t(()=>e[9]||(e[9]=[n(" 待提交 ")])),_:1})):f("",!0),l.b==1?(r(),p(m,{key:1,theme:"warning",variant:"light"},{default:t(()=>e[10]||(e[10]=[n(" 待审核 ")])),_:1})):f("",!0),l.b==2?(r(),p(m,{key:2,theme:"success",variant:"light"},{default:t(()=>e[11]||(e[11]=[n(" 通过 ")])),_:1})):f("",!0)]),c:t(({row:l})=>[l.c==0?(r(),p(m,{key:0,variant:"light"},{default:t(()=>e[12]||(e[12]=[n(" 待支付 ")])),_:1})):f("",!0),l.c==1?(r(),p(m,{key:1,theme:"success",variant:"light"},{default:t(()=>e[13]||(e[13]=[n(" 已支付 ")])),_:1})):f("",!0)]),cc:t(({row:l})=>[l.cc==0?(r(),p(m,{key:0,variant:"light"},{default:t(()=>e[14]||(e[14]=[n(" 未推送 ")])),_:1})):f("",!0),l.cc==1?(r(),p(m,{key:1,theme:"success",variant:"light"},{default:t(()=>e[15]||(e[15]=[n(" 已推送 ")])),_:1})):f("",!0)]),h:t(({row:l})=>[n(h(l.h?l.h:"--"),1)]),i:t(({row:l})=>[n(h(l.i?l.i:"--"),1)]),op:t(l=>[a(ie,null,{default:t(()=>[a(N,{content:"编辑",placement:"top",theme:"light"},{default:t(()=>[a(v,{variant:"text",onClick:e[4]||(e[4]=re=>te())},{default:t(()=>[a(y,{name:"edit"})]),_:1})]),_:1}),a(N,{content:"删除",placement:"top",theme:"light"},{default:t(()=>[a(v,{variant:"text",onClick:re=>W(l)},{default:t(()=>[a(y,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),default:t(()=>[e[16]||(e[16]=n(" 编号 "))]),_:1},8,["data","pagination","loading","selected-row-keys"]),a(ue,{visible:b.value,"onUpdate:visible":e[5]||(e[5]=l=>b.value=l),header:"确认删除当前所选合同？",body:q.value,"on-cancel":Q,onConfirm:J},null,8,["visible","body"]),a(Se,{ref_key:"ExamineaddRef",ref:F},null,512)])])):(r(),O("div",De,[a(Ce,{contractId:A.value,onaddswtich:x,DetailsSwticher:P.value},null,8,["contractId","DetailsSwticher"])]))}}}),Re=ge(Ve,[["__scopeId","data-v-3afcab8c"]]);export{Re as default};
