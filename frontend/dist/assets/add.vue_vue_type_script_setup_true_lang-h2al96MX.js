import{$ as _,d as R,g as T,r as d,h as n,c as j,o as A,a as t,w as a,b as m,x as p,t as b,v as g,j as V}from"./index-OLkvd68Y.js";function E(r){return _.get({url:"/permissions/departments",params:r})}function L(r){return _.get({url:`/permissions/departments/${r}`})}function J(r){return _.delete({url:`/permissions/departments/${r}`})}const M={class:"form-submit-container"},P={class:"form-submit-sub"},z={class:"form-submit-left"},G={name:"systemstationAdd"},K=R({...G,props:{fetchData:{type:Function}},setup(r,{expose:y}){T(()=>{S()});const w=d(null),o=d({department_name:"",sort:"",status:1,parent_id:0}),h={name:[{required:!0,message:"必填",type:"error"}],password:[{required:!0,message:"必填",type:"error"}]},c=d([]),S=async()=>{const s=await E({});c.value=s.data,c.value},x=(s,e)=>{},u=d(!1),B=()=>{w.value.reset()},C=()=>{u.value=!u.value},D=async s=>{const e=await L(s);e.code==1e4&&(o.value=e.data)},k=async s=>{s.validateResult===!0&&o.value};return y({onSwticher:C,getitemId:D}),(s,e)=>{const U=n("t-tree-select"),i=n("t-form-item"),q=n("t-input"),F=n("t-input-number"),f=n("t-radio"),N=n("t-radio-group"),$=n("t-form"),v=n("t-button"),I=n("t-dialog");return A(),j("div",null,[t(I,{visible:u.value,"onUpdate:visible":e[3]||(e[3]=l=>u.value=l),header:"岗位添加",width:"600"},{default:a(()=>[m("div",null,[t($,{ref:"form",rules:h,data:o.value,"label-align":"right","label-width":100,onSubmit:k,onReset:B},{default:a(()=>[t(i,{label:"父级节点",name:"name"},{default:a(()=>[t(U,{modelValue:o.value.parent_id,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.parent_id=l),data:c.value,clearable:"",filterable:"",placeholder:"请选择","tree-props":{checkStrictly:!0,keys:{value:"id",label:"department_name",children:"children"}},onPopupVisibleChange:x},null,8,["modelValue","data"])]),_:1}),t(i,{label:"岗位名称",name:"name"},{default:a(()=>[t(q,{modelValue:o.value.department_name,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.department_name=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"显示排序",name:"password"},{default:a(()=>[t(F,{modelValue:o.value.sort,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.sort=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"岗位状态",name:"status"},{default:a(()=>[t(N,{"default-value":o.value.status},{default:a(()=>[t(f,{value:1},{default:a(()=>e[4]||(e[4]=[p("开启")])),_:1}),t(f,{value:2},{default:a(()=>e[5]||(e[5]=[p("关闭")])),_:1})]),_:1},8,["default-value"])]),_:1})]),_:1},8,["data"]),m("div",M,[m("div",P,[m("div",z,[t(v,{theme:"primary",class:"form-submit-confirm",type:"submit"},{default:a(()=>[p(b(g(V)("pages.formBase.confirm")),1)]),_:1}),t(v,{type:"reset",class:"form-submit-cancel",theme:"default",variant:"base"},{default:a(()=>[p(b(g(V)("pages.formBase.cancel")),1)]),_:1})])])])])]),_:1},8,["visible"])])}}});export{E as S,K as _,J as a};
