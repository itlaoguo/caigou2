import{a as X}from"./detail-XMGupiGF.js";import{k as _,j as e,d as Z,u as ee,l as te,r as T,g as A,G as ae,q as le,y as oe,h as r,c as N,o as w,a,w as t,v as p,b as m,x as v,t as y,e as ie,E as ne,F as se,i as re,n as de,f as pe}from"./index-OLkvd68Y.js";import{g as ce,a as o}from"./charts-DPOmyWlB.js";import{u as ue,i as me,a as W}from"./installCanvasRenderer-jY-EmqBn.js";import{i as ye,a as ge}from"./install-C6E25Ezf.js";import{i as he}from"./install-D1NThLa7.js";import{i as ve}from"./install-zi_7CzWb.js";import{i as _e}from"./install-dGcAlvif.js";import{i as fe}from"./install-CpRIVE4_.js";import{i as be}from"./install-1en4XIYa.js";import"./dayjs.min-Rb_lRoAu.js";import"./install-B7QLEEXo.js";import"./dataSample-Bl7x7eeC.js";import"./sectorHelper-C0d5pWm_.js";const xe=[{name:"集群名",value:"helloworld",type:null},{name:"集群ID",value:"cls - 2ntelvxw",type:{key:"color",value:"blue"}},{name:"状态",value:"运行中",type:{key:"color",value:"green"}},{name:"K8S版本",value:"1.7.8",type:null},{name:"配置",value:"6.73 核 10.30 GB",type:null},{name:"所在地域",value:"广州",type:null},{name:"新增资源所属项目",value:"默认项目",type:null},{name:"节点数量",value:"4 个",type:null},{name:"节点网络",value:"vpc - 5frmkm1x",type:{key:"color",value:"blue"}},{name:"容器网络",value:"172.16.0.0 / 16",type:null},{name:"集群凭证",value:"显示凭证",type:{key:"color",value:"blue"}},{name:"创建/更新",value:"2018-05-31 22:11:44 2018-05-31 22:11:44",type:{key:"contractAnnex",value:"pdf"}},{name:"描述",value:"istio_test",type:null}];function E({dateTime:f=[],placeholderColor:d,borderColor:c}){let s=["00:00","02:00","04:00","06:00"];return f.length>0&&(s=ce(f,7)),{color:_(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"20px",bottom:"36px",containLabel:!0},xAxis:{type:"category",data:s,boundaryGap:!1,axisLabel:{color:d},axisLine:{lineStyle:{color:c,width:1}}},yAxis:{type:"value",axisLabel:{color:d},splitLine:{lineStyle:{color:c}}},legend:{data:[e("pages.detailDeploy.deployTrend.thisMonth"),e("pages.detailDeploy.deployTrend.lastMonth")],icon:"circle",bottom:"0",itemGap:48,itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:d}},series:[{name:e("pages.detailDeploy.deployTrend.lastMonth"),data:[o(),o(),o(),o(),o(),o(),o()],type:"line",smooth:!0,color:_()[0],showSymbol:!0,symbol:"circle",symbolSize:8,areaStyle:{opacity:.1}},{name:e("pages.detailDeploy.deployTrend.thisMonth"),data:[o(),o(),o(),o(),o(),o(),o()],type:"line",smooth:!0,showSymbol:!0,symbol:"circle",symbolSize:8,color:_()[1]}]}}const I=[100,120,140,160,180,200,210];function V({isMonth:f=!1,placeholderColor:d,borderColor:c}){let s=I.concat([]),u=I.concat([]);f&&(s=s.reverse(),u=u.reverse());const h=[];for(let g=1;g<7;g++)h.push(e(`pages.detailDeploy.deployTrend.week${g}`));return{color:_(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"0",bottom:"36px",containLabel:!0},xAxis:[{type:"category",data:h,axisTick:{alignWithLabel:!0},axisLabel:{color:d},axisLine:{lineStyle:{color:c,width:1}}}],yAxis:[{type:"value",axisLabel:{color:d},splitLine:{lineStyle:{color:c}}}],legend:{data:[e("pages.detailDeploy.deployTrend.lastYear"),e("pages.detailDeploy.deployTrend.thisYear")],bottom:"0",icon:"rect",itemGap:48,itemHeight:4,itemWidth:12,textStyle:{fontSize:12,color:d}},series:[{name:e("pages.detailDeploy.deployTrend.lastYear"),type:"bar",barWidth:"30%",data:s,itemStyle:{color:"#BCC4D0"}},{name:e("pages.detailDeploy.deployTrend.thisYear"),type:"bar",barWidth:"30%",data:u,itemStyle:{color:g=>g.value>=200?_()[1]:_()[0]}}]}}const De={class:"detail-deploy"},Ce={class:"dialog-info-block"},Le={class:"dialog-info-block"},we={name:"DetailDeploy"},ke=Z({...we,setup(f){const d=[{width:"280",ellipsis:!0,colKey:"name",title:e("pages.detailDeploy.projectList.table.name"),sorter:(n,i)=>n.name.substr(10)-i.name.substr(10)},{width:"280",ellipsis:!0,title:e("pages.detailDeploy.projectList.table.admin"),colKey:"adminName"},{width:"280",className:"test",ellipsis:!0,colKey:"updateTime",title:e("pages.detailDeploy.projectList.table.createTime"),sorter:(n,i)=>Date.parse(n.updateTime)-Date.parse(i.updateTime)},{align:"left",width:"200",className:"test2",ellipsis:!0,colKey:"op",fixed:"right",title:e("pages.detailDeploy.projectList.table.operation")}];ue([ye,ge,he,ve,_e,fe,be,me]);const c=ee(),s=te(()=>c.chartColors),u=T([]),h=T({defaultPageSize:10,total:100,defaultCurrent:1}),g=async()=>{try{const{list:n}=await X();u.value=n,h.value={...h.value,total:n.length}}catch{}},D=T(!1);let C,b;A(()=>{C=document.getElementById("monitorContainer"),b=W(C),b.setOption(E({...s.value})),setInterval(()=>{b.setOption(E({...s.value}))},3e3)});let L,x;A(()=>{L=document.getElementById("dataContainer"),x=W(L),x.setOption(V({...s.value}))});const z=()=>{b.resize({width:C.clientWidth,height:C.clientHeight}),x.resize({width:L.clientWidth,height:L.clientHeight})};ae(()=>{window.removeEventListener("resize",z)});const Y=()=>{x.setOption(V({...s.value}))};A(()=>{g(),window.addEventListener("resize",z,!1)}),le(()=>c.brandTheme,()=>{oe([b,x])});const M=n=>{},O=(n,i)=>{},G=()=>{D.value=!0},K=()=>{D.value=!1},P=n=>{u.value.splice(n.rowIndex,1)};return(n,i)=>{const k=r("t-card"),j=r("t-col"),B=r("t-radio-button"),H=r("t-radio-group"),F=r("t-row"),U=r("t-tag"),$=r("t-link"),q=r("t-space"),R=r("t-icon"),J=r("t-table"),Q=r("t-dialog");return w(),N("div",De,[a(F,{gutter:16},{default:t(()=>[a(j,{lg:6,xs:12},{default:t(()=>[a(k,{title:p(e)("pages.detailDeploy.deployTrend.title"),bordered:!1},{default:t(()=>i[2]||(i[2]=[m("div",{class:"deploy-panel-left"},[m("div",{id:"monitorContainer",style:{width:"100%",height:"265px"}})],-1)])),_:1},8,["title"])]),_:1}),a(j,{lg:6,xs:12},{default:t(()=>[a(k,{title:p(e)("pages.detailDeploy.deployTrend.warning"),bordered:!1},{actions:t(()=>[a(H,{"default-value":"dateVal",onChange:Y},{default:t(()=>[a(B,{value:"dateVal"},{default:t(()=>[v(y(p(e)("pages.detailDeploy.deployTrend.thisWeek")),1)]),_:1}),a(B,{value:"monthVal"},{default:t(()=>[v(y(p(e)("pages.detailDeploy.deployTrend.thisMonth")),1)]),_:1})]),_:1})]),default:t(()=>[i[3]||(i[3]=m("div",{id:"dataContainer",style:{width:"100%",height:"265px"}},null,-1))]),_:1},8,["title"])]),_:1})]),_:1}),a(k,{title:p(e)("pages.detailDeploy.projectList.title"),class:"container-base-margin-top",bordered:!1},{default:t(()=>[a(J,{columns:d,data:u.value,pagination:h.value,hover:!0,stripe:!0,"row-key":"index",onSortChange:M,onChange:O},{adminName:t(({row:l})=>[m("span",null,[v(y(l.adminName)+" ",1),l.adminPhone?(w(),ie(U,{key:0,size:"small"},{default:t(()=>[v(y(l.adminPhone),1)]),_:2},1024)):ne("",!0)])]),op:t(l=>[a(q,null,{default:t(()=>[a($,{theme:"primary",onClick:i[0]||(i[0]=S=>G())},{default:t(()=>[v(y(p(e)("pages.detailDeploy.projectList.table.manage")),1)]),_:1}),a($,{theme:"danger",onClick:S=>P(l)},{default:t(()=>[v(y(p(e)("pages.detailDeploy.projectList.table.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),"op-column":t(()=>[a(R,{name:"descending-order"})]),_:1},8,["data","pagination"])]),_:1},8,["title"]),a(Q,{visible:D.value,"onUpdate:visible":i[1]||(i[1]=l=>D.value=l),header:p(e)("pages.detailDeploy.projectList.dialog.title"),onConfirm:K},{body:t(()=>[m("div",Ce,[m("div",Le,[(w(!0),N(se,null,re(p(xe),(l,S)=>(w(),N("div",{key:S,class:"info-item"},[m("h1",null,y(l.name),1),m("span",{class:de({green:l.type&&l.type.value==="green",blue:l.type&&l.type.value==="blue"})},y(l.value),3)]))),128))])])]),_:1},8,["visible","header"])])}}}),Oe=pe(ke,[["__scopeId","data-v-419c2b73"]]);export{Oe as default};
