import{j as y,d as J,u as Q,C as W,r as i,g as X,h as o,c as Z,o as w,b as _,a as t,x as u,w as n,v as f,t as N,aa as P,e as T,E as R,M as ee,f as te}from"./index-OLkvd68Y.js";import{_ as ne,A as ae,a as le}from"./add.vue_vue_type_script_setup_true_lang-CqD252ci.js";import{P as oe}from"./public-CddGFI_6.js";import"./role-CdFYx5h5.js";const se=[{title:"用户名",fixed:"left",width:160,ellipsis:!0,align:"left",colKey:"username"},{align:"center",title:"邮箱号码",width:160,ellipsis:!0,colKey:"email"},{align:"center",title:"状态",width:160,ellipsis:!0,colKey:"status"},{align:"center",title:"创建时间",width:160,ellipsis:!0,colKey:"created_at"},{align:"center",fixed:"right",width:200,colKey:"op",title:y("components.commonTable.operation")}],ie=[{value:1,label:"开启"},{value:2,label:"关闭"}],ue={class:"system-box"},ce={class:"list-common-table"},re={class:"table-container"},de={name:"systemAccount"},me=J({...de,setup(pe){Q(),W();const m=i(null),s=i({username:"",email:"",status:null});i(null);const M=a=>{},v=i(),U=()=>{m.value.onSwticher()},g=i(!1),r=i({defaultPageSize:20,total:100,defaultCurrent:1,pageSizeOptions:oe}),d=async a=>{g.value=!0;try{const e=await ae({username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",status:(a==null?void 0:a.status)||"",page:r.value.defaultCurrent,limit:r.value.defaultPageSize});e.code===1e4&&(v.value=e.data),r.value={...r.value,total:v.value.length}}catch{}finally{g.value=!1}},B=(a,e)=>{},E=(a,e)=>{},b=i(-1),p=i(!1),k=()=>{b.value=-1},K=async()=>{(await le(S.value)).code==1e4&&(d(),ee.success("删除成功"),k(),p.value=!1)},O=()=>{k()};X(()=>{d()});const S=i(null),z=a=>{S.value=a.row.id,b.value=a.row.rowIndex,p.value=!0},h=()=>{d(s.value)},L=()=>{s.value.username="",s.value.email="",s.value.status=null,d()},$=a=>{m.value.onSwticher(),m.value.getitemId(a.row.id)};return(a,e)=>{const x=o("t-input"),c=o("t-col"),G=o("t-select"),C=o("t-button"),D=o("t-row"),V=o("t-icon"),j=o("t-form"),A=o("t-tag"),I=o("t-link"),H=o("t-space"),Y=o("t-table"),q=o("t-dialog");return w(),Z("div",ue,[_("div",ce,[e[9]||(e[9]=_("div",{class:"NavigationTitle"},[_("p"),u(" 账号管理 ")],-1)),t(j,{"label-width":80,colon:"",onReset:L},{default:n(()=>[t(D,null,{default:n(()=>[t(c,{span:10},{default:n(()=>[t(D,{gutter:[24,24]},{default:n(()=>[t(c,{span:2},{default:n(()=>[t(x,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.username=l),class:"form-item-content",type:"search",placeholder:"用户名称",style:{width:"100%"},onEnter:h},null,8,["modelValue"])]),_:1}),t(c,{span:2},{default:n(()=>[t(x,{modelValue:s.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.email=l),class:"form-item-content",type:"search",placeholder:"邮箱号码",style:{width:"100%"},onEnter:h},null,8,["modelValue"])]),_:1}),t(c,{span:2},{default:n(()=>[t(G,{modelValue:s.value.status,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.status=l),class:"form-item-content",options:f(ie),onChange:h,placeholder:"用户状态"},null,8,["modelValue","options"])]),_:1}),t(c,{span:2},{default:n(()=>[t(C,{type:"reset",variant:"base",theme:"default"},{default:n(()=>[u(N(f(y)("components.commonTable.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{span:2,class:"operation-container"},{default:n(()=>[t(C,{theme:"success",onClick:U},{icon:n(()=>[t(V,{name:"plus"})]),default:n(()=>[e[4]||(e[4]=u(" 添 加 "))]),_:1}),t(C,{theme:"warning"},{icon:n(()=>[t(V,{name:"download"})]),default:n(()=>[e[5]||(e[5]=u(" 导 出 "))]),_:1})]),_:1})]),_:1})]),_:1}),_("div",re,[t(Y,{data:v.value,columns:f(se),loading:g.value,maxHeight:"900",pagination:r.value,onSortChange:M,onPageChange:B,onChange:E,"row-key":"id"},{status:n(({row:l})=>[l.status==1?(w(),T(A,{key:0,theme:"success",variant:"light"},{default:n(()=>e[6]||(e[6]=[u(" 开启 ")])),_:1})):R("",!0),l.status==2?(w(),T(A,{key:1,theme:"warning",variant:"light"},{default:n(()=>e[7]||(e[7]=[u(" 关闭 ")])),_:1})):R("",!0)]),op:n(l=>[t(H,null,{default:n(()=>[t(I,{theme:"primary",onClick:P(F=>$(l),["stop"])},{default:n(()=>e[8]||(e[8]=[u("编 辑")])),_:2},1032,["onClick"]),t(I,{theme:"danger",onClick:P(F=>z(l),["stop"])},{default:n(()=>[u(N(f(y)("pages.listBase.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["data","columns","loading","pagination"]),t(q,{visible:p.value,"onUpdate:visible":e[3]||(e[3]=l=>p.value=l),header:"确认删除当前所选数据吗？","on-cancel":O,onConfirm:K},null,8,["visible"]),t(ne,{ref_key:"DictaddRef",ref:m,fetchData:d},null,512)])])])}}}),he=te(me,[["__scopeId","data-v-8a8518d1"]]);export{he as default};
