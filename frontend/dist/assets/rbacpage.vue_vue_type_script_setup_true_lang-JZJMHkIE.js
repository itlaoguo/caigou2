import{d as S,r as a,h as l,c as K,o as M,a as t,w as o,b as f,x as r}from"./index-OLkvd68Y.js";const O={style:{display:"flex","flex-direction":"column",width:"100%"}},j={style:{display:"flex","margin-bottom":"10px","margin-left":"5px"}},z={style:{border:"1px solid #ccc",width:"100%","border-radius":"5px",padding:"4px"}},G={name:"Stationrbacpage"},P=S({...G,setup(H,{expose:T}){const k=a(null),u=a({name:"",password:"",status:"0",remark:""}),h={name:[{required:!0,message:"必填",type:"error"}],password:[{required:!0,message:"必填",type:"error"}]},C=a(null),y=a([]),_=a([{id:"1",name:"DEMO页面",no:"1",icon:"setting",status:0,contractType:"",paymentType:"/demo/one",amount:"name",children:[{id:"11",name:"表格页面",no:"1",icon:"setting",status:0,contractType:"",paymentType:"/demo/one/index",amount:"one"},{id:"12",name:"数据字典",no:"2",icon:"",status:0,contractType:"",paymentType:"/dict/index",amount:"dict"}]},{id:"2",name:"系统管理",no:"1",icon:"setting",status:0,contractType:"",paymentType:"",amount:"name",children:[{id:"21",name:"页面管理",no:"1",icon:"",status:0,contractType:"",paymentType:"/system/menu/index.vue",amount:"one"},{id:"22",name:"部门管理",no:"2",icon:"",status:0,contractType:"",paymentType:"/system/station/index.vue",amount:"dict"},{id:"23",name:"账号管理",no:"3",icon:"",status:0,contractType:"",paymentType:"/system/account/index.vue",amount:"dict"}]}]),w=(i,e)=>{console.info("onChange checked:",i,"context:",e);const{node:d}=e;console.info(d.value,"onChange context.node.checked:",d.checked)},m=a(!1),U=()=>{m.value,y.value=m.value?x(_.value):[]},x=i=>{let e=[];return i.forEach(d=>{var s;e.push(d.id),(s=d.children)!=null&&s.length&&e.push(...x(d.children))}),e},c=a(!1),p=a([]),D=()=>{c.value,c.value?p.value=x(_.value):p.value=[]},v=a(!1),E=()=>{k.value.reset()},g=()=>{v.value=!v.value},I=()=>{E(),g()},A=()=>{};return T({onSwticher:g,getconId:i=>{}}),(i,e)=>{const d=l("t-input"),s=l("t-form-item"),b=l("t-checkbox"),B=l("t-tree"),V=l("t-radio"),F=l("t-radio-group"),N=l("t-textarea"),q=l("t-form"),R=l("t-dialog");return M(),K("div",null,[t(R,{visible:v.value,"onUpdate:visible":e[6]||(e[6]=n=>v.value=n),header:"权限添加",width:"600",onConfirm:I,"on-cancel":A},{default:o(()=>[f("div",null,[t(q,{ref:"form",rules:h,data:u.value,"label-align":"right","label-width":100},{default:o(()=>[t(s,{label:"岗位名称",name:"name"},{default:o(()=>[t(d,{modelValue:u.value.name,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value.name=n)},null,8,["modelValue"])]),_:1}),t(s,{label:"菜单权限",name:"password",style:{width:"100%"}},{default:o(()=>[f("div",O,[f("div",j,[t(b,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=n=>c.value=n),onChange:D,style:{"margin-right":"20px"}},{default:o(()=>e[7]||(e[7]=[r("展开")])),_:1},8,["modelValue"]),e[9]||(e[9]=r()),t(b,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=n=>m.value=n),onChange:U},{default:o(()=>e[8]||(e[8]=[r("全选")])),_:1},8,["modelValue"])]),f("div",z,[t(B,{ref_key:"Tree",ref:C,expanded:p.value,"onUpdate:expanded":e[3]||(e[3]=n=>p.value=n),"expand-on-click-node":!1,data:_.value,activable:"",hover:"",transition:"",modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=n=>y.value=n),checkable:"",keys:{value:"id",label:"name",children:"children"},onChange:w},null,8,["expanded","data","modelValue"])])])]),_:1}),t(s,{label:"岗位状态",name:"status"},{default:o(()=>[t(F,{"default-value":u.value.status},{default:o(()=>[t(V,{value:"0"},{default:o(()=>e[10]||(e[10]=[r("开启")])),_:1}),t(V,{value:"1"},{default:o(()=>e[11]||(e[11]=[r("关闭")])),_:1})]),_:1},8,["default-value"])]),_:1}),t(s,{label:"备注",name:"remark"},{default:o(()=>[t(N,{modelValue:u.value.remark,"onUpdate:modelValue":e[5]||(e[5]=n=>u.value.remark=n),placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])])]),_:1},8,["visible"])])}}});export{P as _};
