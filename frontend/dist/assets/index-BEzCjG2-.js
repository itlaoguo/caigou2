import{d as de,u as re,C as me,j as i,W as N,r as s,l as K,g as pe,X as fe,h as o,c as B,o as g,b,a as e,x as c,w as a,v as p,t as y,aa as M,e as R,E as L,M as ve,f as _e}from"./index-OLkvd68Y.js";import ge from"./NotificAdd-CCWmwjve.js";import{P as be}from"./public-CddGFI_6.js";import"./EditorComponent-Dpdx9mVW.js";const ye={key:0,class:"list-common-table"},he={class:"table-container"},Ce={key:1,class:"list-common-add"},Ve={name:"systemnotification"},we=de({...Ve,setup(xe){const $=re();me(),N.MAIN,i("components.commonTable.contractTypeEnum.main"),N.SUB,i("components.commonTable.contractTypeEnum.sub"),N.SUPPLEMENT,i("components.commonTable.contractTypeEnum.supplement");const z=[{align:"center",colKey:"index",title:"序号",width:80,fixed:"left"},{title:"标题",fixed:"left",width:160,ellipsis:!0,align:"left",colKey:"account"},{align:"center",title:"创建人",width:160,ellipsis:!0,colKey:"name"},{align:"center",title:"公告状态",width:160,ellipsis:!0,colKey:"status"},{align:"center",title:"首页状态",width:160,ellipsis:!0,colKey:"status"},{align:"center",title:"创建时间",width:160,ellipsis:!0,colKey:"created"},{align:"center",title:"更新时间",width:160,ellipsis:!0,colKey:"created"},{align:"center",fixed:"right",width:100,colKey:"op",title:i("components.commonTable.operation")}],u=s({...{name:"",no:"",type:""}}),F="bottom",O=l=>{},f=s(!1),r=s(),h=s(!0),W=s(null),C=()=>{h.value=!h.value},G=()=>{C()},V=s(!1),w=s({defaultPageSize:20,total:100,defaultCurrent:1,pageSizeOptions:be}),Y=async()=>{V.value=!0;try{r.value=[{id:"1",account:"ERP1.0-版本",name:"admin",status:"0",created:"2025-3-6 16:48:00"}],w.value={...w.value,total:r.value.length}}catch{}finally{V.value=!1}},j=(l,t)=>{},q=(l,t)=>{},m=s(-1),S=K(()=>{if(m.value>-1){const{name:l}=r.value[m.value];return`删除后，${l}的所有合同信息将被清空，且无法恢复`}return""}),P=()=>{m.value=-1},H=()=>{r.value.splice(m.value,1),f.value=!1,ve.success("删除成功"),P()},X=()=>{P()};pe(()=>{Y()});const J=l=>{m.value=l.row.rowIndex,f.value=!0},Q=l=>{},v=s("1"),_=s(!1),Z=l=>{v.value=l,_.value=!0},ee=()=>{v.value=""},te=()=>{v.value="",_.value=!1},ae=()=>{C()},ne=l=>{u.value};return K(()=>({offsetTop:$.isUseTabsRouter?48:0,container:`.${fe}-layout`})),(l,t)=>{const D=o("t-input"),x=o("t-form-item"),d=o("t-col"),oe=o("t-date-picker"),T=o("t-button"),U=o("t-row"),le=o("t-icon"),se=o("t-form"),ie=o("t-switch"),E=o("t-tag"),I=o("t-link"),ce=o("t-space"),ue=o("t-table"),A=o("t-dialog");return h.value?(g(),B("div",ye,[t[11]||(t[11]=b("div",{class:"NavigationTitle"},[b("p"),c(" 公告管理 ")],-1)),e(se,{ref:"form",data:u.value,"label-width":80,colon:"",onReset:Q,onSubmit:ne},{default:a(()=>[e(U,null,{default:a(()=>[e(d,{span:10},{default:a(()=>[e(U,{gutter:[24,24]},{default:a(()=>[e(d,{span:2},{default:a(()=>[e(x,{label:"公告标题",name:"name"},{default:a(()=>[e(D,{modelValue:u.value.name,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value.name=n),class:"form-item-content",type:"search",placeholder:p(i)("components.commonTable.contractNamePlaceholder"),style:{minWidth:"134px"}},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),e(d,{span:2},{default:a(()=>[e(x,{label:"创建人员",name:"status"},{default:a(()=>[e(D,{modelValue:u.value.name,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.name=n),class:"form-item-content",type:"search",placeholder:p(i)("components.commonTable.contractNamePlaceholder"),style:{minWidth:"134px"}},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),e(d,{span:2},{default:a(()=>[e(x,{label:"发布时间",name:"status"},{default:a(()=>[e(oe,{modelValue:u.value.name,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value.name=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:2},{default:a(()=>[e(T,{theme:"primary",type:"submit",style:{marginLeft:"var(--td-comp-margin-s)"}},{default:a(()=>[c(y(p(i)("components.commonTable.query")),1)]),_:1}),e(T,{type:"reset",variant:"base",theme:"default"},{default:a(()=>[c(y(p(i)("components.commonTable.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{span:2,class:"operation-container"},{default:a(()=>[e(T,{theme:"success",onClick:G},{icon:a(()=>[e(le,{name:"plus"})]),default:a(()=>[t[6]||(t[6]=c(" 添 加 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),b("div",he,[e(ue,{data:r.value,columns:z,"vertical-align":F,loading:V.value,maxHeight:"900",pagination:w.value,onSortChange:O,onPageChange:j,onChange:q,"row-key":"id"},{index:a(({rowIndex:n})=>[b("span",null,y(n+1),1)]),status:a(({row:n})=>[e(ie,{modelValue:n.status,"onUpdate:modelValue":k=>n.status=k,size:"large",customValue:["0","1"],onChange:Z},null,8,["modelValue","onUpdate:modelValue"]),t[9]||(t[9]=c(" - ")),n.status=="0"?(g(),R(E,{key:0,theme:"success",variant:"light"},{default:a(()=>t[7]||(t[7]=[c(" 显示通告 ")])),_:1})):L("",!0),n.status=="1"?(g(),R(E,{key:1,theme:"warning",variant:"light"},{default:a(()=>t[8]||(t[8]=[c(" 不显示 ")])),_:1})):L("",!0)]),op:a(n=>[e(ce,null,{default:a(()=>[e(I,{theme:"primary",onClick:t[3]||(t[3]=M(k=>ae(),["stop"]))},{default:a(()=>t[10]||(t[10]=[c("查 看")])),_:1}),e(I,{theme:"danger",onClick:M(k=>J(n),["stop"])},{default:a(()=>[c(y(p(i)("pages.listBase.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["data","loading","pagination"]),e(A,{visible:f.value,"onUpdate:visible":t[4]||(t[4]=n=>f.value=n),header:"确认删除当前所选数据吗？",body:S.value,"on-cancel":X,onConfirm:H},null,8,["visible","body"]),e(A,{visible:_.value,"onUpdate:visible":t[5]||(t[5]=n=>_.value=n),header:"确认"+(v.value=="1"?"关闭":"开启")+"这条公告",body:S.value,"on-cancel":ee,onConfirm:te},null,8,["visible","header","body"])])])):(g(),B("div",Ce,[e(ge,{contractId:W.value,onaddswtich:C},null,8,["contractId"])]))}}}),De=_e(we,[["__scopeId","data-v-f5f5f524"]]);export{De as default};
