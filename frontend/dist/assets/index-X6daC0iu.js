import{j as C,d as J,u as Q,C as W,r as i,g as X,h as l,c as Y,o as h,b as _,a as t,x as r,w as a,t as I,v as w,aa as y,e as K,E as M,M as Z,f as ee}from"./index-OLkvd68Y.js";import{_ as te}from"./add.vue_vue_type_script_setup_true_lang-CXmHF2ZZ.js";import{R as ae,d as ne}from"./role-CdFYx5h5.js";import"./menu-CDRUEs78.js";import"./public-CddGFI_6.js";const oe=[{title:"用户角色",fixed:"left",width:160,ellipsis:!0,align:"left",colKey:"role_name"},{align:"center",title:"用户标识",width:160,ellipsis:!0,colKey:"identify"},{align:"center",title:"角色描述",width:160,ellipsis:!0,colKey:"description"},{align:"center",title:"创建时间",width:160,ellipsis:!0,colKey:"created_at"},{align:"center",fixed:"right",width:200,colKey:"op",title:C("components.commonTable.operation")}],le={class:"system-box"},se={class:"list-common-table"},ie={class:"table-container"},re={name:"systemrole"},ce=J({...re,setup(de){Q(),W();const o=i(null),c=i({role_name:""}),N="bottom";i(null);const u=i(!1),k=i(),B=()=>{o.value.onSwticher(),o.value.getRoleList(),o.value.FormData.parent_id=0},p=i(!1),E=i({childrenKey:"children",defaultExpandAll:!1}),d=async n=>{p.value=!0;try{const f=await ae(n||{role_name:""});k.value=f.data}catch{}finally{p.value=!1}},T=(n,e)=>{},b=i(-1),D=()=>{b.value=-1},$=async()=>{(await ne(x.value)).code==1e4&&(d(),Z.success("删除成功"),D(),u.value=!1)},A=()=>{D()};X(()=>{d()});const x=i(null),F=n=>{n.row.id,x.value=n.row.id,b.value=n.row.rowIndex,u.value=!0},U=()=>{c.value.role_name,d(c.value)},j=()=>{c.value.role_name="",d(c.value)},H=n=>{o.value.onSwticher(),o.value.getRoleList(),o.value.getitemId(n.row.id)},O=n=>{o.value.onSwticher(),o.value.getRoleList(),o.value,n.row.id,o.value.FormData.type=1,o.value.FormData.parent_id=n.row.id};return(n,e)=>{const f=l("t-input"),m=l("t-col"),v=l("t-button"),R=l("t-row"),V=l("t-icon"),P=l("t-form"),S=l("t-tag"),g=l("t-link"),q=l("t-space"),z=l("t-enhanced-table"),G=l("t-dialog");return h(),Y("div",le,[_("div",se,[e[8]||(e[8]=_("div",{class:"NavigationTitle"},[_("p"),r(" 角色管理 ")],-1)),t(P,{data:c.value,"label-width":80,colon:"",onReset:j},{default:a(()=>[t(R,null,{default:a(()=>[t(m,{span:10},{default:a(()=>[t(R,{gutter:[24,24]},{default:a(()=>[t(m,{span:2},{default:a(()=>[t(f,{modelValue:c.value.role_name,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value.role_name=s),class:"form-item-content",type:"search",placeholder:"角色名称",style:{width:"100%"},onEnter:U},null,8,["modelValue"])]),_:1}),t(m,{span:2},{default:a(()=>[t(v,{type:"reset",variant:"base",theme:"default"},{default:a(()=>[r(I(w(C)("components.commonTable.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(m,{span:2,class:"operation-container"},{default:a(()=>[t(v,{theme:"success",onClick:B},{icon:a(()=>[t(V,{name:"plus"})]),default:a(()=>[e[2]||(e[2]=r(" 添 加 "))]),_:1}),t(v,{theme:"warning"},{icon:a(()=>[t(V,{name:"download"})]),default:a(()=>[e[3]||(e[3]=r(" 导 出 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),_("div",ie,[t(z,{data:k.value,columns:w(oe),"vertical-align":N,loading:p.value,maxHeight:"900",onChange:T,"row-key":"id",tree:E.value},{status:a(({row:s})=>[s.status==1?(h(),K(S,{key:0,theme:"warning",variant:"light"},{default:a(()=>e[4]||(e[4]=[r(" 关闭 ")])),_:1})):M("",!0),s.status==0?(h(),K(S,{key:1,theme:"success",variant:"light"},{default:a(()=>e[5]||(e[5]=[r(" 开启 ")])),_:1})):M("",!0)]),op:a(s=>[t(q,null,{default:a(()=>[t(g,{theme:"primary",onClick:y(L=>H(s),["stop"])},{default:a(()=>e[6]||(e[6]=[r("编 辑")])),_:2},1032,["onClick"]),t(g,{theme:"primary",onClick:y(L=>O(s),["stop"])},{default:a(()=>e[7]||(e[7]=[r(" 新 增")])),_:2},1032,["onClick"]),t(g,{theme:"danger",onClick:y(L=>F(s),["stop"])},{default:a(()=>[r(I(w(C)("pages.listBase.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["data","columns","loading","tree"]),t(G,{visible:u.value,"onUpdate:visible":e[1]||(e[1]=s=>u.value=s),header:"确认删除当前所选数据吗？","on-cancel":A,onConfirm:$},null,8,["visible"]),t(te,{ref_key:"DictaddRef",ref:o,fetchData:d},null,512)])])])}}}),ve=ee(ce,[["__scopeId","data-v-8329c811"]]);export{ve as default};
