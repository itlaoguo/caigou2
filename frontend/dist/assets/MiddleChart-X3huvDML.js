import{d as Y,u as L,r as w,l as O,g as k,m as M,p as j,q as u,s as q,e as G,w as i,h as p,a as d,v as C,j as $,b as v,P as y,o as H,y as J,f as K}from"./index-OLkvd68Y.js";import{L as Q}from"./date-CN-vPizF.js";import{g as S,a as R}from"./index-kI9YUBU2.js";import{i as U}from"./install-D1NThLa7.js";import{i as X}from"./install-dGcAlvif.js";import{i as Z}from"./install-B6inQQNq.js";import{i as V}from"./install-zi_7CzWb.js";import{i as tt}from"./install-1en4XIYa.js";import{u as et,i as at,a as T}from"./installCanvasRenderer-jY-EmqBn.js";import"./dayjs.min-Rb_lRoAu.js";import"./charts-DPOmyWlB.js";import"./install-B7QLEEXo.js";import"./sectorHelper-C0d5pWm_.js";import"./createSeriesDataSimply-CNnRpMCT.js";import"./dataSample-Bl7x7eeC.js";const ot={class:"dashboard-chart-title-container"},nt=Y({__name:"MiddleChart",setup(st){et([U,X,Z,V,tt,at]);const b=e=>{let t;if(!e||e.length===0)return t=new Date,`${t.getFullYear()}-${t.getMonth()+1}`;t=new Date(e[0]);const s=new Date(e[1]),h=t.getMonth()+1>9?t.getMonth()+1:`0${t.getMonth()+1}`,m=s.getMonth()+1>9?s.getMonth()+1:`0${s.getMonth()+1}`;return`${t.getFullYear()}-${h}  è‡³  ${s.getFullYear()}-${m}`},r=L(),a=w(1),g=O(()=>r.chartColors);let l,n;const W=()=>{l||(l=document.getElementById("monitorContainer")),n=T(l),n.setOption(S({...g.value}))};let f,o;const I=()=>{f||(f=document.getElementById("countContainer")),o=T(f),o.setOption(R(g.value)),o.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:-1}),o.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:1}),o.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:1})},x=()=>{W(),I()},c=()=>{document.documentElement.clientWidth>=1400&&document.documentElement.clientWidth<1920?a.value=Number((document.documentElement.clientWidth/2080).toFixed(2)):document.documentElement.clientWidth<1080?a.value=Number((document.documentElement.clientWidth/1080).toFixed(2)):a.value=1,n.resize({width:l.clientWidth,height:a.value*326}),o.resize({width:a.value*326,height:a.value*326})};k(()=>{x(),M(()=>{c()})});const{width:B,height:E}=j();u([B,E],()=>{c()}),q(()=>{A(),D(),z()});const _=w(b()),D=u(()=>r.brandTheme,()=>{J([n,o])}),z=u(()=>r.isSidebarCompact,()=>{r.isSidebarCompact?M(()=>{c()}):setTimeout(()=>{c()},180)}),A=u(()=>r.mode,()=>{[n,o].forEach(e=>{e.dispose()}),x()}),F=e=>{_.value=b(e),n.setOption(S({dateTime:e,...g.value}))};return(e,t)=>{const s=p("t-date-range-picker"),h=p("t-card"),m=p("t-col"),N=p("t-row");return H(),G(N,{gutter:16,class:"row-container"},{default:i(()=>[d(m,{xs:12,xl:9},{default:i(()=>[d(h,{title:C($)("pages.dashboardBase.topPanel.analysis.title"),subtitle:_.value,class:"dashboard-chart-card",bordered:!1},{actions:i(()=>[v("div",ot,[d(s,{class:"card-date-picker-container",theme:"primary",mode:"date","default-value":C(Q),onChange:t[0]||(t[0]=P=>F(P))},null,8,["default-value"])])]),default:i(()=>[v("div",{id:"monitorContainer",class:"dashboard-chart-container",style:y({width:"100%",height:`${a.value*326}px`})},null,4)]),_:1},8,["title","subtitle"])]),_:1}),d(m,{xs:12,xl:3},{default:i(()=>[d(h,{title:C($)("pages.dashboardBase.topPanel.analysis.channels"),subtitle:_.value,class:"dashboard-chart-card",bordered:!1},{default:i(()=>[v("div",{id:"countContainer",class:"dashboard-chart-container",style:y({width:`${a.value*326}px`,height:`${a.value*326}px`,margin:"0 auto"})},null,4)]),_:1},8,["title","subtitle"])]),_:1})]),_:1})}}}),xt=K(nt,[["__scopeId","data-v-4d8feef2"]]);export{xt as default};
