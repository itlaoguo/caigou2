import{j as t,k as q,d as K,u as Q,l as z,g as X,m as Z,p as ee,q as w,s as te,c as v,a as o,w as n,v as c,h,n as P,F as M,i as N,e as W,b,t as T,x as B,o as f,y as ae,f as se}from"./index-OLkvd68Y.js";import{P as oe}from"./index-DhGyTu0l.js";import{T as ie}from"./index-igw7vt4f.js";import{L as $}from"./date-CN-vPizF.js";import{d as I}from"./dayjs.min-Rb_lRoAu.js";import{g as re,a as e}from"./charts-DPOmyWlB.js";import{i as ne}from"./install-CfIbqJtV.js";import{u as le,i as de,a as O}from"./installCanvasRenderer-jY-EmqBn.js";import{i as ce}from"./install-zi_7CzWb.js";import{i as pe}from"./install-dGcAlvif.js";import{i as me}from"./install-D1NThLa7.js";import{i as ue}from"./install-1en4XIYa.js";import"./more-CvW9xTnl.js";import"./shop-OwCUcoBK.js";import"./service-wx3J2hO2.js";import"./user-avatar-BkzRG7NA.js";import"./laptop-arVtzszR.js";import"./dataSample-Bl7x7eeC.js";import"./install-B7QLEEXo.js";const he=[{title:t("pages.dashboardDetail.topPanel.paneList.totalRequest"),number:"1126",upTrend:"10%"},{title:t("pages.dashboardDetail.topPanel.paneList.suppliers"),number:"13",downTrend:"13%"},{title:t("pages.dashboardDetail.topPanel.paneList.productCategory"),number:"4",upTrend:"10%"},{title:t("pages.dashboardDetail.topPanel.paneList.applicant"),number:90,downTrend:"44%",leftType:"icon-file-paste"},{title:t("pages.dashboardDetail.topPanel.paneList.completionRate"),number:80.5,upTrend:"70%"},{title:t("pages.dashboardDetail.topPanel.paneList.arrivalRate"),number:78,upTrend:"16%"}],ge=[{description:t("pages.dashboardDetail.sslDescription"),index:1,isSetup:!0,name:t("pages.dashboardDetail.ssl"),type:4},{description:t("pages.dashboardDetail.sslDescription"),index:1,isSetup:!0,name:t("pages.dashboardDetail.ssl"),type:4}];function R({dateTime:p=[],placeholderColor:i,borderColor:s}){const a=[],g=[],u=[];for(let r=0;r<40;r++){if(p.length>0){const D=(new Date(p[1]).getTime()-new Date(p[0]).getTime())/40,y=new Date(p[0]).getTime()+D*r;a.push(I(y).format("MM-DD"))}else a.push(I().subtract(40-r,"day").format("MM-DD"));g.push(e().toString()),u.push(e().toString())}return{color:q(),xAxis:{data:a,axisLabel:{color:i},splitLine:{show:!1},axisLine:{lineStyle:{color:s,width:1}}},yAxis:{type:"value",axisLabel:{color:i},nameTextStyle:{padding:[0,0,0,60]},axisTick:{show:!1,axisLine:{show:!1}},axisLine:{show:!1},splitLine:{lineStyle:{color:s}}},tooltip:{trigger:"item"},grid:{top:"5px",left:"25px",right:"5px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:[t("pages.dashboardDetail.procurement.goods.massageMachine"),t("pages.dashboardDetail.procurement.goods.coffeeMachine")],itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:i}},series:[{name:t("pages.dashboardDetail.procurement.goods.massageMachine"),symbolSize:10,data:u.reverse(),type:"scatter"},{name:t("pages.dashboardDetail.procurement.goods.coffeeMachine"),symbolSize:10,data:g.concat(g.reverse()),type:"scatter"}]}}function E({dateTime:p=[],placeholderColor:i,borderColor:s}){let l=[];for(let a=1;a<7;a++)l.push(t(`pages.dashboardDetail.chart.week${a}`));return p.length>0&&(l=re(p,7)),{color:q(),grid:{top:"5%",right:"10px",left:"30px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:[t("pages.dashboardDetail.procurement.goods.cup"),t("pages.dashboardDetail.procurement.goods.tea"),t("pages.dashboardDetail.procurement.goods.honey"),t("pages.dashboardDetail.procurement.goods.flour")],textStyle:{fontSize:12,color:i}},xAxis:{type:"category",data:l,boundaryGap:!1,axisLabel:{color:i},axisLine:{lineStyle:{color:s,width:1}}},yAxis:{type:"value",axisLabel:{color:i},splitLine:{lineStyle:{color:s}}},tooltip:{trigger:"item"},series:[{showSymbol:!0,symbol:"circle",symbolSize:8,name:t("pages.dashboardDetail.procurement.goods.cup"),stack:"总量",data:[e(),e(),e(),e(),e(),e(),e()],type:"line",itemStyle:{borderColor:s,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:t("pages.dashboardDetail.procurement.goods.tea"),stack:"总量",data:[e(),e(),e(),e(),e(),e(),e()],type:"line",itemStyle:{borderColor:s,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:t("pages.dashboardDetail.procurement.goods.honey"),stack:"总量",data:[e(),e(),e(),e(),e(),e(),e()],type:"line",itemStyle:{borderColor:s,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:t("pages.dashboardDetail.procurement.goods.flour"),stack:"总量",data:[e(),e(),e(),e(),e(),e(),e()],type:"line",itemStyle:{borderColor:s,borderWidth:1}}]}}const be={class:"dashboard-panel-detail"},fe={class:"dashboard-list-card__number"},ye={class:"dashboard-list-card__text"},_e={class:"dashboard-list-card__text-left"},xe={name:"DashboardDetail"},De=K({...xe,setup(p){le([ce,pe,me,ue,ne,de]);const i=Q(),s=z(()=>i.chartColors);let l,a;const g=()=>{l=document.getElementById("lineContainer"),a=O(l),a.setOption(E({...s.value}))};let u,r;const D=()=>{u=document.getElementById("scatterContainer"),r=O(u),r.setOption(R({...s.value}))},y=()=>{a==null||a.resize({width:l.clientWidth,height:l.clientHeight}),r==null||r.resize({width:u.clientWidth,height:u.clientHeight})},L=()=>{D(),g()};X(()=>{L(),Z(()=>{y()})});const{width:F,height:H}=ee();w([F,H],()=>{y()}),te(()=>{V(),j()});const V=w(()=>i.mode,()=>{L()}),j=w(()=>i.brandTheme,()=>{ae([a,r])}),G=()=>{r.setOption(R({...s.value}))},U=k=>{const m=z(()=>i.chartColors);a.setOption(E({dateTime:k,...m.value}))};return(k,m)=>{const Y=h("t-icon"),_=h("t-card"),S=h("t-col"),A=h("t-row"),C=h("t-date-range-picker"),J=h("t-button");return f(),v("div",be,[o(_,{title:c(t)("pages.dashboardDetail.topPanel.title"),class:"dashboard-detail-card",bordered:!1},{default:n(()=>[o(A,{gutter:[16,16]},{default:n(()=>[(f(!0),v(M,null,N(c(he),(d,x)=>(f(),W(S,{key:x,xs:6,xl:3},{default:n(()=>[o(_,{class:"dashboard-list-card",description:d.title},{default:n(()=>[b("div",fe,T(d.number),1),b("div",ye,[b("div",_e,[B(T(c(t)("pages.dashboardDetail.topPanel.quarter"))+" ",1),o(ie,{class:"icon",type:d.upTrend?"up":"down",describe:d.upTrend||d.downTrend},null,8,["type","describe"])]),o(Y,{name:"chevron-right"})])]),_:2},1032,["description"])]),_:2},1024))),128))]),_:1})]),_:1},8,["title"]),o(A,{gutter:[16,16],class:"row-margin"},{default:n(()=>[o(S,{xs:12,xl:9},{default:n(()=>[o(_,{class:"dashboard-detail-card",title:c(t)("pages.dashboardDetail.procurement.title"),bordered:!1},{actions:n(()=>[o(C,{class:"card-date-picker-container","default-value":c($),theme:"primary",mode:"date",style:{width:"248px"},onChange:m[0]||(m[0]=d=>U(d))},null,8,["default-value"])]),default:n(()=>[m[1]||(m[1]=b("div",{id:"lineContainer",style:{width:"100%",height:"416px"}},null,-1))]),_:1},8,["title"])]),_:1}),o(S,{xs:12,xl:3},{default:n(()=>[(f(!0),v(M,null,N(c(ge),(d,x)=>(f(),W(oe,{key:x,product:d,class:P({"row-margin":x!==0,"product-card":!0})},null,8,["product","class"]))),128))]),_:1})]),_:1}),o(_,{class:P(["dashboard-detail-card","row-margin"]),title:c(t)("pages.dashboardDetail.satisfaction.title"),bordered:!1},{actions:n(()=>[o(C,{class:"card-date-picker-container","default-value":c($),theme:"primary",mode:"date",style:{display:"inline-block","margin-right":"var(--td-comp-margin-s)",width:"248px"},onChange:G},null,8,["default-value"]),o(J,{class:"card-date-button"},{default:n(()=>[B(T(c(t)("pages.dashboardDetail.satisfaction.export")),1)]),_:1})]),default:n(()=>[m[2]||(m[2]=b("div",{id:"scatterContainer",style:{width:"100%",height:"434px"}},null,-1))]),_:1},8,["title"])])}}}),qe=se(De,[["__scopeId","data-v-f22d58bf"]]);export{qe as default};
