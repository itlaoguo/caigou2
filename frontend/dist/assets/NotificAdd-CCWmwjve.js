import{d as j,r as d,h as o,e as H,o as J,w as a,b as n,a as t,x as s,t as x,v as C,j as k,M as q,f as K}from"./index-OLkvd68Y.js";import O from"./EditorComponent-Dpdx9mVW.js";const P={class:"form-basic-container"},W={class:"form-basic-item"},X={style:{display:"flex","flex-direction":"column",width:"100%",border:"1px solid #ccc","border-radius":"5px",padding:"4px"}},$={style:{display:"flex","margin-bottom":"10px","margin-left":"5px"}},z={style:{width:"100%"}},G={class:"form-submit-container"},Q={class:"form-submit-sub"},Y={class:"form-submit-left"},Z={name:"NotificAdd"},ee=j({...Z,props:{contractId:{type:String,default:""},onaddswtich:{type:Function}},setup(U){const u=d({files:[],name:"",comment:""}),A={name:[{required:!0,message:"请输入合同名称",type:"error"}],type:[{required:!0,message:"请选择合同类型",type:"error"}],payment:[{required:!0,message:"请选择合同收付类型",type:"error"}],amount:[{required:!0,message:"请输入合同金额",type:"error"}],partyA:[{required:!0,message:"请选择甲方",type:"error"}],partyB:[{required:!0,message:"请选择乙方",type:"error"}],signDate:[{required:!0,message:"请选择日期",type:"error"}],startDate:[{required:!0,message:"请选择日期",type:"error"}],endDate:[{required:!0,message:"请选择日期",type:"error"}]},B=U,D=i=>{u.value.name=i,`${u.value}`},E=d(null),v=d([]),g=d([{id:"1",name:"董事长-总经办",no:"1",status:"0",children:[{id:"11",name:"会计出纳-财务部",no:"1",status:"0"},{id:"12",name:"副总经理(程总) - 运营中心(程总)",no:"2",status:"0",children:[{id:"22",name:"教学 - 教培部(liliting)",no:"2",status:"0"},{id:"23",name:"校研 - 教培部",no:"2",status:"0"}]},{id:"13",name:"总经理 - 管理中心(徐总)",no:"3",status:"0",children:[{id:"24",name:"仓库主管 - 仓储部(XiaoMeiJiao)",no:"2",status:"0"},{id:"25",name:"采购主管 - 采购部(DengLiHui)",no:"2",status:"0"},{id:"26",name:"生产部主管 - 生管部",no:"2",status:"0"},{id:"27",name:"生产部主管 - 生产部",no:"2",status:"0"}]},{id:"14",name:"财务主管 - 财务部",no:"3",status:"0"},{id:"15",name:"成本会计 - 财务部",no:"3",status:"0"},{id:"16",name:"内控专员 - 财务部",no:"3",status:"0"}]}]),N=()=>{},p=d(!1),R=()=>{p.value,v.value=p.value?b(g.value):[]},b=i=>{let e=[];return i.forEach(m=>{var r;e.push(m.id),(r=m.children)!=null&&r.length&&e.push(...b(m.children))}),e},f=d(!1),c=d([]),I=()=>{f.value,f.value?c.value=b(g.value):c.value=[]};d("");const M=()=>{B.onaddswtich(),q.warning("取消新建")},S=i=>{i.validateResult===!0&&q.success("新建成功")};return(i,e)=>{const m=o("t-input"),r=o("t-form-item"),y=o("t-col"),_=o("t-radio"),h=o("t-radio-group"),T=o("t-row"),V=o("t-checkbox"),F=o("t-tree"),w=o("t-button"),L=o("t-form");return J(),H(L,{ref:"form",class:"base-form",data:u.value,rules:A,"label-align":"top","label-width":100,onReset:M,onSubmit:S},{default:a(()=>[n("div",P,[n("div",W,[e[12]||(e[12]=n("div",{class:"form-basic-container-title"},[n("p"),s(x("添加公告"))],-1)),t(T,{class:"row-gap",gutter:[32,24]},{default:a(()=>[t(y,{span:12},{default:a(()=>[t(r,{label:"标题",name:"name"},{default:a(()=>[t(m,{modelValue:u.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value.name=l),style:{width:"322px"},placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1}),t(y,{span:6},{default:a(()=>[t(r,{label:"是否发布",name:"type"},{default:a(()=>[t(h,{"default-value":u.value.name,onChange:N},{default:a(()=>[t(_,{value:"0"},{default:a(()=>e[5]||(e[5]=[s("显示")])),_:1}),t(_,{value:"1"},{default:a(()=>e[6]||(e[6]=[s("不显示")])),_:1})]),_:1},8,["default-value"])]),_:1})]),_:1}),t(y,{span:6},{default:a(()=>[t(r,{label:"首页显示",name:"type"},{default:a(()=>[t(h,{"default-value":u.value.name},{default:a(()=>[t(_,{value:"0"},{default:a(()=>e[7]||(e[7]=[s("显示")])),_:1}),t(_,{value:"1"},{default:a(()=>e[8]||(e[8]=[s("不显示")])),_:1})]),_:1},8,["default-value"])]),_:1})]),_:1})]),_:1}),t(r,{label:"选择部门",name:"comment"},{default:a(()=>[n("div",X,[n("div",$,[t(V,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=l=>f.value=l),onChange:I,style:{"margin-right":"20px"}},{default:a(()=>e[9]||(e[9]=[s("展开")])),_:1},8,["modelValue"]),e[11]||(e[11]=s()),t(V,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),onChange:R},{default:a(()=>e[10]||(e[10]=[s("全选")])),_:1},8,["modelValue"])]),n("div",z,[t(F,{ref_key:"Tree",ref:E,expanded:c.value,"onUpdate:expanded":e[3]||(e[3]=l=>c.value=l),"expand-on-click-node":!1,data:g.value,activable:"",hover:"",transition:"",modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=l=>v.value=l),checkable:"",keys:{value:"id",label:"name",children:"children"},onChange:D},null,8,["expanded","data","modelValue"])])])]),_:1}),t(r,{label:"公告内容",name:"comment"},{default:a(()=>[t(O,{class:"WangEditor"})]),_:1})])]),n("div",G,[n("div",Q,[n("div",Y,[t(w,{theme:"primary",class:"form-submit-confirm",type:"submit"},{default:a(()=>[s(x(C(k)("pages.formBase.confirm")),1)]),_:1}),t(w,{type:"reset",class:"form-submit-cancel",theme:"default",variant:"base"},{default:a(()=>[s(x(C(k)("pages.formBase.cancel")),1)]),_:1})])])])]),_:1},8,["data"])}}}),oe=K(ee,[["__scopeId","data-v-73b042cd"]]);export{oe as default};
