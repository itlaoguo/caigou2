import{d as ie,u as ue,C as re,j as u,Z as v,W as A,r as s,l as I,g as de,X as me,h as c,c as x,o as g,b as h,a as e,x as r,w as t,v as N,t as T,e as F,E as K,M as pe,f as fe}from"./index-OLkvd68Y.js";import{P as ve,a as ge}from"./public-CddGFI_6.js";import{c as _e,b as be,f as he}from"./constants-BmCj8gDq.js";import Te from"./add-B3gTsY0t.js";const ye={key:0,class:"list-common-table"},Ce={class:"table-container"},Se={key:1,class:"list-common-add"},we={name:"AdmindeptStaff"},Ee=ie({...we,setup(Ae){const B=ue();re(),v.FAIL,u("components.commonTable.contractStatusEnum.fail"),v.AUDIT_PENDING,u("components.commonTable.contractStatusEnum.audit"),v.EXEC_PENDING,u("components.commonTable.contractStatusEnum.pending"),v.EXECUTING,u("components.commonTable.contractStatusEnum.executing"),v.FINISH,u("components.commonTable.contractStatusEnum.finish"),A.MAIN,u("components.commonTable.contractTypeEnum.main"),A.SUB,u("components.commonTable.contractTypeEnum.sub"),A.SUPPLEMENT,u("components.commonTable.contractTypeEnum.supplement");const G=[{align:"center",colKey:"index",title:"序号",width:80,fixed:"left"},{align:"center",title:"姓名",width:160,ellipsis:!0,colKey:"aa"},{title:"编号",width:280,ellipsis:!0,align:"center",colKey:"bb",sortType:"all",sorter:!0},{title:"性别",width:280,ellipsis:!0,align:"center",colKey:"cc"},{title:"年纪",width:280,ellipsis:!0,align:"center",colKey:"dd",sortType:"all",sorter:!0},{align:"center",title:"手机号",width:160,ellipsis:!0,colKey:"ee"},{align:"center",title:"在职状态",width:160,ellipsis:!0,colKey:"ff",filter:{type:"multiple",resetValue:[],list:[{label:"All",checkAll:!0},{label:"离职",value:0},{label:"在职",value:1}],showConfirmAndReset:!0}},{title:"入职时间",width:280,ellipsis:!0,align:"center",colKey:"gg"},{align:"center",fixed:"right",width:160,colKey:"op",title:u("components.commonTable.operation")}],y=s(!0),P=s(null),C=()=>{y.value=!y.value},L=s(null),i=s({...{name:"",no:"",type:""}}),M="id",Y="bottom";s(!0);const $=async o=>{n.value=await ge(o,n)},X=(o,l)=>{n.value=[],n.value=[{aa:"秦学海",bb:"423",cc:1,dd:"23",ee:"15220730439",ff:1,gg:"2025-3-3"},{aa:"张三",bb:"400",cc:1,dd:"25",ee:"15256230439",ff:0,gg:"2024-3-3"}],n.value=he(n.value,o),m.value.total=n.value.length},m=s({defaultPageSize:20,total:100,defaultCurrent:1,pageSizeOptions:ve}),_=s(!1),n=s(),z=()=>{w.value=!0,P.value=999,C()},H=I(()=>({placement:"top-right",fields:["aa","bb","cc","dd","ee","ff","gg"],dialogProps:{preventScrollThrough:!0},buttonProps:!1})),S=s(!1),j=async()=>{S.value=!0;try{n.value=[{aa:"秦学海",bb:"423",cc:1,dd:"23",ee:"15220730439",ff:1,gg:"2025-3-3"},{aa:"张三",bb:"400",cc:1,dd:"25",ee:"15256230439",ff:0,gg:"2024-3-3"}],m.value={...m.value,total:n.value.length}}catch{}finally{S.value=!1}};s(null);const p=s(-1),W=I(()=>{if(p.value>-1){const{name:o}=n.value[p.value];return`删除后，${o}的所有合同信息将被清空，且无法恢复`}return""}),V=()=>{p.value=-1},Z=()=>{n.value.splice(p.value,1),m.value.total=n.value.length,_.value=!1,pe.success("删除成功"),V()},q=()=>{V()};de(()=>{j()});const J=o=>{p.value=o.row.rowIndex,_.value=!0},Q=o=>{},w=s(!0),ee=()=>{w.value=!1,C()},k=o=>{i.value},te=(o,l)=>{},le=(o,l)=>{};return I(()=>({offsetTop:B.isUseTabsRouter?48:0,container:`.${me}-layout`})),(o,l)=>{const D=c("t-input"),d=c("t-col"),R=c("t-select"),f=c("t-button"),U=c("t-row"),b=c("t-icon"),ae=c("t-form"),E=c("t-tag"),O=c("t-tooltip"),ne=c("t-space"),oe=c("t-table"),se=c("t-dialog");return g(),x("div",null,[y.value?(g(),x("div",ye,[l[10]||(l[10]=h("div",{class:"NavigationTitle"},[h("p"),r(" 人员管理 ")],-1)),e(ae,{ref:"form",data:i.value,"label-width":80,colon:"",onReset:Q,onSubmit:k},{default:t(()=>[e(U,null,{default:t(()=>[e(d,{span:10},{default:t(()=>[e(U,{gutter:[24,24]},{default:t(()=>[e(d,{span:1},{default:t(()=>[e(D,{modelValue:i.value.name,"onUpdate:modelValue":l[0]||(l[0]=a=>i.value.name=a),class:"form-item-content",type:"search",placeholder:"员工姓名",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(d,{span:1},{default:t(()=>[e(D,{modelValue:i.value.no,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value.no=a),class:"form-item-content",placeholder:"员工编号",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(d,{span:1},{default:t(()=>[e(R,{modelValue:i.value.status,"onUpdate:modelValue":l[2]||(l[2]=a=>i.value.status=a),class:"form-item-content",options:N(_e),onChange:k,placeholder:"在职状态",clearable:""},null,8,["modelValue","options"])]),_:1}),e(d,{span:1},{default:t(()=>[e(R,{modelValue:i.value.type,"onUpdate:modelValue":l[3]||(l[3]=a=>i.value.type=a),style:{display:"inline-block"},class:"form-item-content",options:N(be),placeholder:"婚姻状况",clearable:""},null,8,["modelValue","options"])]),_:1}),e(d,{span:2},{default:t(()=>[e(f,{type:"reset",variant:"base",theme:"default"},{default:t(()=>[r(T(N(u)("components.commonTable.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{span:2,class:"operation-container"},{default:t(()=>[e(f,{theme:"success",onClick:z},{icon:t(()=>[e(b,{name:"plus"})]),default:t(()=>[l[6]||(l[6]=r(" 添 加 "))]),_:1}),e(f,{theme:"warning"},{icon:t(()=>[e(b,{name:"download"})]),default:t(()=>[l[7]||(l[7]=r(" 导 出 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),h("div",Ce,[e(oe,{data:n.value,columns:G,"row-key":M,"vertical-align":Y,pagination:m.value,loading:S.value,maxHeight:"840",stripe:!0,onPageChange:te,onChange:le,onSortChange:$,onFilterChange:X,"column-controllter":H.value},{index:t(({rowIndex:a})=>[h("span",null,T(a+1),1)]),bb:t(({row:a})=>[r(" NO."+T(a.bb),1)]),cc:t(({row:a})=>[e(E,{theme:"success",variant:"light"},{default:t(()=>[r(T(a.cc==0?"女":"男"),1)]),_:2},1024)]),ff:t(({row:a})=>[a.ff==1?(g(),F(E,{key:0,theme:"success",variant:"light"},{default:t(()=>l[8]||(l[8]=[r(" 在职 ")])),_:1})):K("",!0),a.ff==0?(g(),F(E,{key:1,theme:"danger",variant:"light"},{default:t(()=>l[9]||(l[9]=[r(" 离职 ")])),_:1})):K("",!0)]),op:t(a=>[e(ne,null,{default:t(()=>[e(O,{content:"查看",placement:"top",theme:"light"},{default:t(()=>[e(f,{variant:"text",onClick:l[4]||(l[4]=ce=>ee())},{default:t(()=>[e(b,{name:"edit"})]),_:1})]),_:1}),e(O,{content:"删除",placement:"top",theme:"light"},{default:t(()=>[e(f,{variant:"text",onClick:ce=>J(a)},{default:t(()=>[e(b,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination","loading","column-controllter"]),e(se,{visible:_.value,"onUpdate:visible":l[5]||(l[5]=a=>_.value=a),header:"确认删除当前所选合同？",body:W.value,"on-cancel":q,onConfirm:Z},null,8,["visible","body"])])])):(g(),x("div",Se,[e(Te,{ref_key:"AddConitem",ref:L,contractId:P.value,onaddswtich:C,DetailsSwticher:w.value},null,8,["contractId","DetailsSwticher"])]))])}}}),ke=fe(Ee,[["__scopeId","data-v-6f47be6b"]]);export{ke as default};
