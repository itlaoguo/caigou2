import{j as xe,J as _,g as Ze,af as He,ag as I,ah as De,ad as Te,ai as Re,$ as $e,aj as Pe,ak as Ce,al as pe,am as We,an as Je,ao as Qe,ap as Ke,aq as ea,ar as re,l as ne,W as Ge,_ as ye,as as Ve,at as aa,au as ta,Z as ra,O as U,av as de,ae as Ie,aw as na,ax as ia,ay as oa,a3 as sa,az as la,aA as va,m as Ne,a0 as Be,aB as ga,aC as ca,aD as ua,aE as fa,aF as ha,aG as pa}from"./installCanvasRenderer-jY-EmqBn.js";import{s as da}from"./install-B7QLEEXo.js";import{g as ie}from"./sectorHelper-C0d5pWm_.js";import{c as ma}from"./createSeriesDataSimply-CNnRpMCT.js";var oe=Math.PI*2,Oe=Math.PI/180;function _e(a,i){return Ze(a.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function je(a,i){var t=_e(a,i),e=a.get("center"),r=a.get("radius");xe(r)||(r=[0,r]);var l=_(t.width,i.getWidth()),n=_(t.height,i.getHeight()),v=Math.min(l,n),g=_(r[0],v/2),u=_(r[1],v/2),s,h,p=a.coordinateSystem;if(p){var o=p.dataToPoint(e);s=o[0]||0,h=o[1]||0}else xe(e)||(e=[e,e]),s=_(e[0],l)+t.x,h=_(e[1],n)+t.y;return{cx:s,cy:h,r0:g,r:u}}function ya(a,i,t){i.eachSeriesByType(a,function(e){var r=e.getData(),l=r.mapDimension("value"),n=_e(e,t),v=je(e,t),g=v.cx,u=v.cy,s=v.r,h=v.r0,p=-e.get("startAngle")*Oe,o=e.get("minAngle")*Oe,c=0;r.each(l,function(C){!isNaN(C)&&c++});var f=r.getSum(l),d=Math.PI/(f||c)*2,m=e.get("clockwise"),y=e.get("roseType"),b=e.get("stillShowZeroSum"),w=r.getDataExtent(l);w[0]=0;var A=oe,T=0,x=p,S=m?1:-1;if(r.setLayout({viewRect:n,r:s}),r.each(l,function(C,k){var P;if(isNaN(C)){r.setItemLayout(k,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:g,cy:u,r0:h,r:y?NaN:s});return}y!=="area"?P=f===0&&b?d:C*d:P=oe/c,P<o?(P=o,A-=o):T+=C;var O=x+S*P;r.setItemLayout(k,{angle:P,startAngle:x,endAngle:O,clockwise:m,cx:g,cy:u,r0:h,r:y?He(C,w,[h,s]):s}),x=O}),A<oe&&c)if(A<=.001){var L=oe/c;r.each(l,function(C,k){if(!isNaN(C)){var P=r.getItemLayout(k);P.angle=L,P.startAngle=p+S*k*L,P.endAngle=p+S*(k+1)*L}})}else d=A/T,x=p,r.each(l,function(C,k){if(!isNaN(C)){var P=r.getItemLayout(k),O=P.angle===o?o:C*d;P.startAngle=x,P.endAngle=x+S*O,x+=S*O}})})}function ba(a){return{seriesType:a,reset:function(i,t){var e=t.findComponents({mainType:"legend"});if(!(!e||!e.length)){var r=i.getData();r.filterSelf(function(l){for(var n=r.getName(l),v=0;v<e.length;v++)if(!e[v].isSelected(n))return!1;return!0})}}}}var J=Math.PI*2,q=Qe.CMD,Sa=["top","right","bottom","left"];function Ma(a,i,t,e,r){var l=t.width,n=t.height;switch(a){case"top":e.set(t.x+l/2,t.y-i),r.set(0,-1);break;case"bottom":e.set(t.x+l/2,t.y+n+i),r.set(0,1);break;case"left":e.set(t.x-i,t.y+n/2),r.set(-1,0);break;case"right":e.set(t.x+l+i,t.y+n/2),r.set(1,0);break}}function Aa(a,i,t,e,r,l,n,v,g){n-=a,v-=i;var u=Math.sqrt(n*n+v*v);n/=u,v/=u;var s=n*t+a,h=v*t+i;if(Math.abs(e-r)%J<1e-4)return g[0]=s,g[1]=h,u-t;if(l){var p=e;e=re(r),r=re(p)}else e=re(e),r=re(r);e>r&&(r+=J);var o=Math.atan2(v,n);if(o<0&&(o+=J),o>=e&&o<=r||o+J>=e&&o+J<=r)return g[0]=s,g[1]=h,u-t;var c=t*Math.cos(e)+a,f=t*Math.sin(e)+i,d=t*Math.cos(r)+a,m=t*Math.sin(r)+i,y=(c-n)*(c-n)+(f-v)*(f-v),b=(d-n)*(d-n)+(m-v)*(m-v);return y<b?(g[0]=c,g[1]=f,Math.sqrt(y)):(g[0]=d,g[1]=m,Math.sqrt(b))}function se(a,i,t,e,r,l,n,v){var g=r-a,u=l-i,s=t-a,h=e-i,p=Math.sqrt(s*s+h*h);s/=p,h/=p;var o=g*s+u*h,c=o/p;v&&(c=Math.min(Math.max(c,0),1)),c*=p;var f=n[0]=a+c*s,d=n[1]=i+c*h;return Math.sqrt((f-r)*(f-r)+(d-l)*(d-l))}function qe(a,i,t,e,r,l,n){t<0&&(a=a+t,t=-t),e<0&&(i=i+e,e=-e);var v=a+t,g=i+e,u=n[0]=Math.min(Math.max(r,a),v),s=n[1]=Math.min(Math.max(l,i),g);return Math.sqrt((u-r)*(u-r)+(s-l)*(s-l))}var R=[];function La(a,i,t){var e=qe(i.x,i.y,i.width,i.height,a.x,a.y,R);return t.set(R[0],R[1]),e}function wa(a,i,t){for(var e=0,r=0,l=0,n=0,v,g,u=1/0,s=i.data,h=a.x,p=a.y,o=0;o<s.length;){var c=s[o++];o===1&&(e=s[o],r=s[o+1],l=e,n=r);var f=u;switch(c){case q.M:l=s[o++],n=s[o++],e=l,r=n;break;case q.L:f=se(e,r,s[o],s[o+1],h,p,R,!0),e=s[o++],r=s[o++];break;case q.C:f=ea(e,r,s[o++],s[o++],s[o++],s[o++],s[o],s[o+1],h,p,R),e=s[o++],r=s[o++];break;case q.Q:f=Ke(e,r,s[o++],s[o++],s[o],s[o+1],h,p,R),e=s[o++],r=s[o++];break;case q.A:var d=s[o++],m=s[o++],y=s[o++],b=s[o++],w=s[o++],A=s[o++];o+=1;var T=!!(1-s[o++]);v=Math.cos(w)*y+d,g=Math.sin(w)*b+m,o<=1&&(l=v,n=g);var x=(h-d)*b/y+d;f=Aa(d,m,b,w,w+A,T,x,p,R),e=Math.cos(w+A)*y+d,r=Math.sin(w+A)*b+m;break;case q.R:l=e=s[o++],n=r=s[o++];var S=s[o++],L=s[o++];f=qe(l,n,S,L,h,p,R);break;case q.Z:f=se(e,r,l,n,h,p,R,!0),e=l,r=n;break}f<u&&(u=f,t.set(R[0],R[1]))}return u}var G=new I,M=new I,D=new I,B=new I,V=new I;function za(a,i){if(a){var t=a.getTextGuideLine(),e=a.getTextContent();if(e&&t){var r=a.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],n=r.candidates||Sa,v=e.getBoundingRect().clone();v.applyTransform(e.getComputedTransform());var g=1/0,u=r.anchor,s=a.getComputedTransform(),h=s&&We([],s),p=i.get("length2")||0;u&&D.copy(u);for(var o=0;o<n.length;o++){var c=n[o];Ma(c,0,v,G,B),I.scaleAndAdd(M,G,B,p),M.transform(h);var f=a.getBoundingRect(),d=u?u.distance(M):a instanceof Je?wa(M,a.path,D):La(M,f,D);d<g&&(g=d,M.transform(s),D.transform(s),D.toArray(l[0]),M.toArray(l[1]),G.toArray(l[2]))}ze(l,i.get("minTurnAngle")),t.setShape({points:l})}}}var le=[],N=new I;function ze(a,i){if(i<=180&&i>0){i=i/180*Math.PI,G.fromArray(a[0]),M.fromArray(a[1]),D.fromArray(a[2]),I.sub(B,G,M),I.sub(V,D,M);var t=B.len(),e=V.len();if(!(t<.001||e<.001)){B.scale(1/t),V.scale(1/e);var r=B.dot(V),l=Math.cos(i);if(l<r){var n=se(M.x,M.y,D.x,D.y,G.x,G.y,le,!1);N.fromArray(le),N.scaleAndAdd(V,n/Math.tan(Math.PI-i));var v=D.x!==M.x?(N.x-M.x)/(D.x-M.x):(N.y-M.y)/(D.y-M.y);if(isNaN(v))return;v<0?I.copy(N,M):v>1&&I.copy(N,D),N.toArray(a[1])}}}}function xa(a,i,t){if(t<=180&&t>0){t=t/180*Math.PI,G.fromArray(a[0]),M.fromArray(a[1]),D.fromArray(a[2]),I.sub(B,M,G),I.sub(V,D,M);var e=B.len(),r=V.len();if(!(e<.001||r<.001)){B.scale(1/e),V.scale(1/r);var l=B.dot(i),n=Math.cos(t);if(l<n){var v=se(M.x,M.y,D.x,D.y,G.x,G.y,le,!1);N.fromArray(le);var g=Math.PI/2,u=Math.acos(V.dot(i)),s=g+u-t;if(s>=g)I.copy(N,D);else{N.scaleAndAdd(V,v/Math.tan(Math.PI/2-s));var h=D.x!==M.x?(N.x-M.x)/(D.x-M.x):(N.y-M.y)/(D.y-M.y);if(isNaN(h))return;h<0?I.copy(N,M):h>1&&I.copy(N,D)}N.toArray(a[1])}}}}function ke(a,i,t,e){var r=t==="normal",l=r?a:a.ensureState(t);l.ignore=i;var n=e.get("smooth");n&&n===!0&&(n=.3),l.shape=l.shape||{},n>0&&(l.shape.smooth=n);var v=e.getModel("lineStyle").getLineStyle();r?a.useStyle(v):l.style=v}function Da(a,i){var t=i.smooth,e=i.points;if(e)if(a.moveTo(e[0][0],e[0][1]),t>0&&e.length>=3){var r=Ce(e[0],e[1]),l=Ce(e[1],e[2]);if(!r||!l){a.lineTo(e[1][0],e[1][1]),a.lineTo(e[2][0],e[2][1]);return}var n=Math.min(r,l)*t,v=pe([],e[1],e[0],n/r),g=pe([],e[1],e[2],n/l),u=pe([],v,g,.5);a.bezierCurveTo(v[0],v[1],v[0],v[1],u[0],u[1]),a.bezierCurveTo(g[0],g[1],g[0],g[1],e[2][0],e[2][1])}else for(var s=1;s<e.length;s++)a.lineTo(e[s][0],e[s][1])}function Ta(a,i,t){var e=a.getTextGuideLine(),r=a.getTextContent();if(!r){e&&a.removeTextGuideLine();return}for(var l=i.normal,n=l.get("show"),v=r.ignore,g=0;g<De.length;g++){var u=De[g],s=i[u],h=u==="normal";if(s){var p=s.get("show"),o=h?v:Te(r.states[u]&&r.states[u].ignore,v);if(o||!Te(p,n)){var c=h?e:e&&e.states[u];c&&(c.ignore=!0);continue}e||(e=new Re,a.setTextGuideLine(e),!h&&(v||!n)&&ke(e,!0,"normal",i.normal),a.stateProxy&&(e.stateProxy=a.stateProxy)),ke(e,!1,u,s)}}if(e){$e(e.style,t),e.style.fill=null;var f=l.get("showAbove"),d=a.textGuideLineConfig=a.textGuideLineConfig||{};d.showAbove=f||!1,e.buildPath=Da}}function Pa(a,i){i=i||"labelLine";for(var t={normal:a.getModel(i)},e=0;e<Pe.length;e++){var r=Pe[e];t[r]=a.getModel([r,i])}return t}var Ca=Math.PI/180;function Ee(a,i,t,e,r,l,n,v,g,u){if(a.length<2)return;function s(f){for(var d=f.rB,m=d*d,y=0;y<f.list.length;y++){var b=f.list[y],w=Math.abs(b.label.y-t),A=e+b.len,T=A*A,x=Math.sqrt((1-Math.abs(w*w/m))*T),S=i+(x+b.len2)*r,L=S-b.label.x,C=b.targetTextWidth-L*r;Fe(b,C,!0),b.label.x=S}}function h(f){for(var d={list:[],maxY:0},m={list:[],maxY:0},y=0;y<f.length;y++)if(f[y].labelAlignTo==="none"){var b=f[y],w=b.label.y>t?m:d,A=Math.abs(b.label.y-t);if(A>=w.maxY){var T=b.label.x-i-b.len2*r,x=e+b.len,S=Math.abs(T)<x?Math.sqrt(A*A/(1-T*T/x/x)):x;w.rB=S,w.maxY=A}w.list.push(b)}s(d),s(m)}for(var p=a.length,o=0;o<p;o++)if(a[o].position==="outer"&&a[o].labelAlignTo==="labelLine"){var c=a[o].label.x-u;a[o].linePoints[1][0]+=c,a[o].label.x=u}da(a,g,g+n)&&h(a)}function Ia(a,i,t,e,r,l,n,v){for(var g=[],u=[],s=Number.MAX_VALUE,h=-Number.MAX_VALUE,p=0;p<a.length;p++){var o=a[p].label;me(a[p])||(o.x<i?(s=Math.min(s,o.x),g.push(a[p])):(h=Math.max(h,o.x),u.push(a[p])))}for(var p=0;p<a.length;p++){var c=a[p];if(!me(c)&&c.linePoints){if(c.labelStyleWidth!=null)continue;var o=c.label,f=c.linePoints,d=void 0;c.labelAlignTo==="edge"?o.x<i?d=f[2][0]-c.labelDistance-n-c.edgeDistance:d=n+r-c.edgeDistance-f[2][0]-c.labelDistance:c.labelAlignTo==="labelLine"?o.x<i?d=s-n-c.bleedMargin:d=n+r-h-c.bleedMargin:o.x<i?d=o.x-n-c.bleedMargin:d=n+r-o.x-c.bleedMargin,c.targetTextWidth=d,Fe(c,d)}}Ee(u,i,t,e,1,r,l,n,v,h),Ee(g,i,t,e,-1,r,l,n,v,s);for(var p=0;p<a.length;p++){var c=a[p];if(!me(c)&&c.linePoints){var o=c.label,f=c.linePoints,m=c.labelAlignTo==="edge",y=o.style.padding,b=y?y[1]+y[3]:0,w=o.style.backgroundColor?0:b,A=c.rect.width+w,T=f[1][0]-f[2][0];m?o.x<i?f[2][0]=n+c.edgeDistance+A+c.labelDistance:f[2][0]=n+r-c.edgeDistance-A-c.labelDistance:(o.x<i?f[2][0]=o.x+c.labelDistance:f[2][0]=o.x-c.labelDistance,f[1][0]=f[2][0]+T),f[1][1]=f[2][1]=o.y}}}function Fe(a,i,t){if(t===void 0&&(t=!1),a.labelStyleWidth==null){var e=a.label,r=e.style,l=a.rect,n=r.backgroundColor,v=r.padding,g=v?v[1]+v[3]:0,u=r.overflow,s=l.width+(n?0:g);if(i<s||t){var h=l.height;if(u&&u.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",i-g);var p=e.getBoundingRect();e.setStyle("width",Math.ceil(p.width)),e.setStyle("backgroundColor",n)}else{var o=i-g,c=i<s?o:t?o>a.unconstrainedWidth?null:o:null;e.setStyle("width",c)}var f=e.getBoundingRect();l.width=f.width;var d=(e.style.margin||0)+2.1;l.height=f.height+d,l.y-=(l.height-h)/2}}}function me(a){return a.position==="center"}function Na(a){var i=a.getData(),t=[],e,r,l=!1,n=(a.get("minShowLabelAngle")||0)*Ca,v=i.getLayout("viewRect"),g=i.getLayout("r"),u=v.width,s=v.x,h=v.y,p=v.height;function o(T){T.ignore=!0}function c(T){if(!T.ignore)return!0;for(var x in T.states)if(T.states[x].ignore===!1)return!0;return!1}i.each(function(T){var x=i.getItemGraphicEl(T),S=x.shape,L=x.getTextContent(),C=x.getTextGuideLine(),k=i.getItemModel(T),P=k.getModel("label"),O=P.get("position")||k.get(["emphasis","label","position"]),ve=P.get("distanceToLabelLine"),ge=P.get("alignTo"),ce=_(P.get("edgeDistance"),u),Ye=P.get("bleedMargin"),Q=k.getModel("labelLine"),X=Q.get("length");X=_(X,u);var K=Q.get("length2");if(K=_(K,u),Math.abs(S.endAngle-S.startAngle)<n){ne(L.states,o),L.ignore=!0,C&&(ne(C.states,o),C.ignore=!0);return}if(c(L)){var ee=(S.startAngle+S.endAngle)/2,E=Math.cos(ee),j=Math.sin(ee),Z,ae,be,te;e=S.cx,r=S.cy;var z=O==="inside"||O==="inner";if(O==="center")Z=S.cx,ae=S.cy,te="center";else{var ue=(z?(S.r+S.r0)/2*E:S.r*E)+e,fe=(z?(S.r+S.r0)/2*j:S.r*j)+r;if(Z=ue+E*3,ae=fe+j*3,!z){var Se=ue+E*(X+g-S.r),Me=fe+j*(X+g-S.r),Ae=Se+(E<0?-1:1)*K,Le=Me;ge==="edge"?Z=E<0?s+ce:s+u-ce:Z=Ae+(E<0?-ve:ve),ae=Le,be=[[ue,fe],[Se,Me],[Ae,Le]]}te=z?"center":ge==="edge"?E>0?"right":"left":E>0?"left":"right"}var H=Math.PI,F=0,$=P.get("rotate");if(Ge($))F=$*(H/180);else if(O==="center")F=0;else if($==="radial"||$===!0){var Ue=E<0?-ee+H:-ee;F=Ue}else if($==="tangential"&&O!=="outside"&&O!=="outer"){var Y=Math.atan2(E,j);Y<0&&(Y=H*2+Y);var Xe=j>0;Xe&&(Y=H+Y),F=Y-H}if(l=!!F,L.x=Z,L.y=ae,L.rotation=F,L.setStyle({verticalAlign:"middle"}),z){L.setStyle({align:te});var he=L.states.select;he&&(he.x+=L.x,he.y+=L.y)}else{var W=L.getBoundingRect().clone();W.applyTransform(L.getComputedTransform());var we=(L.style.margin||0)+2.1;W.y-=we/2,W.height+=we,t.push({label:L,labelLine:C,position:O,len:X,len2:K,minTurnAngle:Q.get("minTurnAngle"),maxSurfaceAngle:Q.get("maxSurfaceAngle"),surfaceNormal:new I(E,j),linePoints:be,textAlign:te,labelDistance:ve,labelAlignTo:ge,edgeDistance:ce,bleedMargin:Ye,rect:W,unconstrainedWidth:W.width,labelStyleWidth:L.style.width})}x.setTextConfig({inside:z})}}),!l&&a.get("avoidLabelOverlap")&&Ia(t,e,r,g,u,p,s,h);for(var f=0;f<t.length;f++){var d=t[f],m=d.label,y=d.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:d.textAlign}),b&&(ne(m.states,o),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(y){var A=d.linePoints;b||!A?(ne(y.states,o),y.ignore=!0):(ze(A,d.minTurnAngle),xa(A,d.surfaceNormal,d.maxSurfaceAngle),y.setShape({points:A}),m.__hostTarget.textGuideLineConfig={anchor:new I(A[0][0],A[0][1])})}}}var Oa=function(a){ye(i,a);function i(t,e,r){var l=a.call(this)||this;l.z2=2;var n=new ra;return l.setTextContent(n),l.updateData(t,e,r,!0),l}return i.prototype.updateData=function(t,e,r,l){var n=this,v=t.hostModel,g=t.getItemModel(e),u=g.getModel("emphasis"),s=t.getItemLayout(e),h=U(ie(g.getModel("itemStyle"),s,!0),s);if(isNaN(h.startAngle)){n.setShape(h);return}if(l){n.setShape(h);var p=v.getShallow("animationType");v.ecModel.ssr?(de(n,{scaleX:0,scaleY:0},v,{dataIndex:e,isFrom:!0}),n.originX=h.cx,n.originY=h.cy):p==="scale"?(n.shape.r=s.r0,de(n,{shape:{r:s.r}},v,e)):r!=null?(n.setShape({startAngle:r,endAngle:r}),de(n,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},v,e)):(n.shape.endAngle=s.startAngle,Ie(n,{shape:{endAngle:s.endAngle}},v,e))}else na(n),Ie(n,{shape:h},v,e);n.useStyle(t.getItemVisual(e,"style")),ia(n,g);var o=(s.startAngle+s.endAngle)/2,c=v.get("selectedOffset"),f=Math.cos(o)*c,d=Math.sin(o)*c,m=g.getShallow("cursor");m&&n.attr("cursor",m),this._updateLabel(v,t,e),n.ensureState("emphasis").shape=U({r:s.r+(u.get("scale")&&u.get("scaleSize")||0)},ie(u.getModel("itemStyle"),s)),U(n.ensureState("select"),{x:f,y:d,shape:ie(g.getModel(["select","itemStyle"]),s)}),U(n.ensureState("blur"),{shape:ie(g.getModel(["blur","itemStyle"]),s)});var y=n.getTextGuideLine(),b=n.getTextContent();y&&U(y.ensureState("select"),{x:f,y:d}),U(b.ensureState("select"),{x:f,y:d}),oa(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},i.prototype._updateLabel=function(t,e,r){var l=this,n=e.getItemModel(r),v=n.getModel("labelLine"),g=e.getItemVisual(r,"style"),u=g&&g.fill,s=g&&g.opacity;sa(l,la(n),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:s,defaultText:t.getFormattedLabel(r,"normal")||e.getName(r)});var h=l.getTextContent();l.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var p=t.get(["label","position"]);if(p!=="outside"&&p!=="outer")l.removeTextGuideLine();else{var o=this.getTextGuideLine();o||(o=new Re,this.setTextGuideLine(o)),Ta(this,Pa(n),{stroke:u,opacity:va(v.get(["lineStyle","opacity"]),s,1)})}},i}(Ve),ka=function(a){ye(i,a);function i(){var t=a!==null&&a.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return i.prototype.render=function(t,e,r,l){var n=t.getData(),v=this._data,g=this.group,u;if(!v&&n.count()>0){for(var s=n.getItemLayout(0),h=1;isNaN(s&&s.startAngle)&&h<n.count();++h)s=n.getItemLayout(h);s&&(u=s.startAngle)}if(this._emptyCircleSector&&g.remove(this._emptyCircleSector),n.count()===0&&t.get("showEmptyCircle")){var p=new Ve({shape:je(t,r)});p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,g.add(p)}n.diff(v).add(function(o){var c=new Oa(n,o,u);n.setItemGraphicEl(o,c),g.add(c)}).update(function(o,c){var f=v.getItemGraphicEl(c);f.updateData(n,o,u),f.off("click"),g.add(f),n.setItemGraphicEl(o,f)}).remove(function(o){var c=v.getItemGraphicEl(o);aa(c,t,o)}).execute(),Na(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=n)},i.prototype.dispose=function(){},i.prototype.containPoint=function(t,e){var r=e.getData(),l=r.getItemLayout(0);if(l){var n=t[0]-l.cx,v=t[1]-l.cy,g=Math.sqrt(n*n+v*v);return g<=l.r&&g>=l.r0}},i.type="pie",i}(ta),Ea=function(){function a(i,t){this._getDataWithEncodedVisual=i,this._getRawData=t}return a.prototype.getAllNames=function(){var i=this._getRawData();return i.mapArray(i.getName)},a.prototype.containName=function(i){var t=this._getRawData();return t.indexOfName(i)>=0},a.prototype.indexOfName=function(i){var t=this._getDataWithEncodedVisual();return t.indexOfName(i)},a.prototype.getItemVisual=function(i,t){var e=this._getDataWithEncodedVisual();return e.getItemVisual(i,t)},a}(),Ra=ga(),Ga=function(a){ye(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ea(Ne(this.getData,this),Ne(this.getRawData,this)),this._defaultLabelLine(t)},i.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},i.prototype.getInitialData=function(){return ma(this,{coordDimensions:["value"],encodeDefaulter:Be(ha,this)})},i.prototype.getDataParams=function(t){var e=this.getData(),r=Ra(e),l=r.seats;if(!l){var n=[];e.each(e.mapDimension("value"),function(g){n.push(g)}),l=r.seats=ca(n,e.hostModel.get("percentPrecision"))}var v=a.prototype.getDataParams.call(this,t);return v.percent=l[t]||0,v.$vars.push("percent"),v},i.prototype._defaultLabelLine=function(t){ua(t,"labelLine",["show"]);var e=t.labelLine,r=t.emphasis.labelLine;e.show=e.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},i.type="series.pie",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},i}(fa);function Va(a){return{seriesType:a,reset:function(i,t){var e=i.getData();e.filterSelf(function(r){var l=e.mapDimension("value"),n=e.get(l,r);return!(Ge(n)&&!isNaN(n)&&n<0)})}}}function Fa(a){a.registerChartView(ka),a.registerSeriesModel(Ga),pa("pie",a.registerAction),a.registerLayout(Be(ya,"pie")),a.registerProcessor(ba("pie")),a.registerProcessor(Va("pie"))}export{Ea as L,ba as d,Pa as g,Fa as i,Ta as s,za as u};
